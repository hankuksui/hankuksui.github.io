const LEVEL={NORMAL:Symbol(),WARN:Symbol(),ERROR:Symbol(),SUCCESS:Symbol()},BTN_POSITION={FIRST:Symbol(),LAST:Symbol(),ONLYONE:Symbol(),OTHERS:Symbol()};class PopBtn{constructor(t,s,o,a){this.text=t,this.type=s,this.clickFunction=o,this.attr=a}getEl(t,s){var o=$("<input />");if(o.val(this.text),o.attr("type","button"),o.addClass("pop-btn"),s==BTN_POSITION.ONLYONE?o.addClass("only-one"):s==BTN_POSITION.FIRST?o.addClass("first"):s==BTN_POSITION.LAST?o.addClass("last"):s==BTN_POSITION.OTHERS&&o.addClass("middle"),this.type==LEVEL.SUCCESS?o.addClass("success"):this.type==LEVEL.WARN?o.addClass("warn"):this.type==LEVEL.ERROR&&o.addClass("error"),this.attr)for(var a in this.attr)o.attr(a,this.attr[a]);var e=this.clickFunction;return o.on("click",function(){0!=e()&&PopWin.hide(1)}),o.css({width:t}),o}}var PopWin={show:function(t,s,o,a,e){var d,n,i,l;!e&&0<$(".mask").length||(console.log("准备弹框"),(d=$("<div></div>")).addClass("mask"),(e=$("<div></div>")).addClass("pop-win"),null!=t&&""!=t.trim()&&((n=$("<div></div>")).addClass("pop-title"),n.append(t),e.append(n)),(n=$("<div></div>")).addClass("pop-content"),n.append(s),e.append(n),(i=$("<div></div>")).addClass("btn-area"),l=o.length,o.forEach((t,s)=>{var o=null,o=1==l?BTN_POSITION.ONLYONE:0==s?BTN_POSITION.FIRST:s==l-1?BTN_POSITION.LAST:BTN_POSITION.OTHERS;i.append(t.getEl(100/l+"%",o))}),e.append(i),d.append(e),$("body").append(d),$("body>*:not(.mask)").addClass("blur"),"function"==typeof a&&a(),$("body").addClass("notscroll"))},hide:function(t){t=t||-1;for(var s=()=>{$(".mask").last().remove(),$(".mask").length<=0&&($(".blur").removeClass("blur"),$("body").removeClass("notscroll"))};0<$(".mask").length&&0!=t;){if(console.log("删除第 "+t+" 个"),t--,1==$(".mask").length||0==t){$(".mask").fadeOut(100,"linear",s);break}$(".mask").last().remove()}}};$(()=>{$("body").on("mousedown",".pop-title",t=>{PopWin.mouseDown=!0}),$("body").on("mousemove",".pop-title",t=>{PopWin.mouseDown&&console.log(t)}),$("body").on("mouseup",".pop-title",t=>{PopWin.mouseDown=!1})});var FormEle={label:"",attr:{},replaceEl:null,noColon:!1},Form={input:function(t,s,o,a,e){var d=$("<tr></tr>"),n=$("<td></td>"),i=$("<td></td>");n.text(t+(e?"":"："));var l=$("<input />");if(s){for(var r in s)l.attr(r,s[r]);s.type&&"hidden"==s.type&&d.addClass("hide")}return o&&(l.addClass("hide"),i.append(o)),a&&l.on("keydown",t=>{"Enter"==t.key&&a()}),l.appendTo(i),d.append([n,i]),d},inputEl:function(t){return this.input(t.label,t.attr,t.replaceEl,t.enterFn,t.noColon)},generateForm:function(t){var s,o=[];for(s of t)o.push(this.inputEl(s));return o}};const Direction={top:Symbol(),right:Symbol(),bottom:Symbol(),left:Symbol()};var Toast={showByListenerInited:!1,show:function(t,s,o){console.log(t);var a=$("<div></div>");a.addClass("toast"),s==LEVEL.WARN?a.addClass("warn"):s==LEVEL.ERROR?a.addClass("error"):s==LEVEL.SUCCESS?a.addClass("succ"):a.addClass("normal"),a.html(t),$("body").append(a),a.fadeIn(200,()=>{setTimeout(function(){a.fadeOut(500,function(){a.remove(),o&&o()})},2e3)})},showBy:(t,s,o,a,e)=>{$(".toast-show-by-area").remove();const d=$("<div class='toast-show-by-area'></div>"),n=$("<div class='toast-show-by-trig'><div class='first'></div><div class='second'></div></div>"),i=$("<div class='toast-show-by-content'></div>");switch(i.html(t),a){case null:case LEVEL.NORMAL:d.addClass("border-normal");break;case LEVEL.ERROR:d.addClass("border-error");break;case LEVEL.WARN:d.addClass("border-warn");break;case LEVEL.SUCCESS:d.addClass("border-success")}switch(o){case Direction.right:d.addClass("right"),n.find(".first").addClass("right-bottom"),n.find(".second").addClass("right-top"),d.css({left:s.offset().left+s.width()-3,top:s.offset().top+s.height()/2}),d.append([n,i]);break;case Direction.bottom:d.addClass("bottom"),n.find(".first").addClass("right-bottom"),n.find(".second").addClass("left-bottom"),d.css({left:s.offset().left+s.width()/2,top:s.offset().top+s.height()}),d.append([n,i]);break;case Direction.left:d.addClass("left"),n.find(".first").addClass("left-bottom"),n.find(".second").addClass("left-top"),d.css({right:$(window).width()-s.offset().left-3,top:s.offset().top+s.height()/2}),d.append([i,n]);break;case Direction.top:d.addClass("top"),n.find(".first").addClass("right-top"),n.find(".second").addClass("left-top"),d.css({left:s.offset().left+s.width()/2,bottom:$(window).height()-s.offset().top}),d.append([i,n])}d.appendTo(s.parent()),d.animate({opacity:1},200,"linear",()=>{e&&e()}),this.showByListenerInited||$(document).on("click keydown",()=>{$(".toast-show-by-area").fadeOut(300,t=>{$(t).remove()})})}};function formatString(o,t){return"string"==typeof o&&(t instanceof Array?t.forEach((t,s)=>{o=o.replace("{"+s+"}",t)}):o=o.replace("{0}",t)),o}