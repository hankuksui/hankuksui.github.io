class ListBox{constructor(t,s){this.select=$("#"+t),this.select.hide();const l=this.select.parent();l.find(".list").remove(),this.list=$("<div class='list'></div>"),this.list.on("click",".option",t=>{const e=$(t.target);e.hasClass("selected")||(l.find(".option").removeClass("selected"),e.addClass("selected"),s.changed&&s.changed(e.attr("value"),e.index()))});let i=this.list;s.options&&s.options.forEach(t=>{const e=$("<div class='option'></div>");e.attr("value",t.value),e.attr("title",t.text),t.html?e.html(t.html):e.text(t.text),i.append(e),s.defaultValue&&s.defaultValue==t.value&&e.addClass("selected")}),l.append(i)}getValue(){return this.select.parent().find(".option.selected").attr("value")}addOption(t){const e=$("<div class='option'></div>");e.attr("value",t.value),e.attr("title",t.text),t.html?e.html(t.html):e.text(t.text),this.list.append(e)}setByIndex(t){const e=this.list.find(".option").eq(t);this.list.find(".option").removeClass("selected"),e.addClass("selected"),(this.list.scrollTop()>e.height()*t||this.list.scrollTop()<e.height()*t-this.list.height())&&this.list.animate({scrollTop:e.height()*t},300)}deleteSelected(){this.list.find(".option.selected").remove()}getSelectedIndex(){return this.list.find(".option.selected").index()}clear(){this.list.empty()}getSelectedOption(){const t=this.list.find(".option.selected");return{value:t.attr("value"),text:t.attr("title"),html:t.html()}}}